<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <title>%s title</title>
    <style>
        #menu {
            display: grid;
            color: red;
            width: 100%;
            height: 100px;
            background-color: #abcdef;
            grid-template-columns: auto repeat(3, 200px) 100px;
        }
        #menu button {
            margin: 5%;
        }
        #menuOption1 {
            grid-column: 2;
        }
        #menuOption2 {
            grid-column: 3;
        }
        #menuOption3 {
            grid-column: 4;
        }
    </style>
</head>
<body>
<div id='menu'>
    <button id='menuOption1'>Some button</button>
    <button id='menuOption2'>Some image</button>
    <button id='menuOption3'>Some text</button>
</div>
<div id='content'></div>
<img id='img' style='object-fit: cover; width:800px;'>
<div id='RollDiv'></div>
<div id='PitchDiv'></div>
<div id='YawDiv'></div>

<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>

<script>
$(document).ready(function() {
    const buttonAJAX = document.getElementById('menuOption1');
    buttonAJAX.addEventListener('click', loadAJAX);
    function loadAJAX() { var xhr = new XMLHttpRequest();xhr.open('GET', '/AJAX_request', true); xhr.onload = function() {if (this.status == 200) console.log(this.responseText); else console.log(this.status); };}

    var performance = [0, 0, 0];
    function getCameraImage() { jQuery.get('image_request', null, data => { $('#img').attr('src', 'data:image/png;base64,'+data); performance[1] = new Date(); getCameraImage(); performance[2] = new Date(); fps++;
    console.log('Image request received after '+(performance[1] - performance[0])+' ms and processed after '+(performance[2] - performance[0]) + ' ms'); performance[0] = performance[2];
    } ); }
    function getStats() { jQuery.get('stats_request', null, data => { const arr = data.split('$'); $('#RollDiv').text('Roll...'+arr[0]); $('#PitchDiv').text('Pitch..'+arr[1]); $('#YawDiv').text('Yaw....'+arr[2]); getStats(); } ); }
    var fps = 0; setInterval(_ => { console.log('FPS: '+fps); fps = 0; }, 1000); getCameraImage(); getStats();
});
</script>
</body>
</html>